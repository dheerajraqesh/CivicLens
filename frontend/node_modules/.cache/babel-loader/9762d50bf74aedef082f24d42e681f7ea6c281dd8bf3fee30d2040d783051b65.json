{"ast":null,"code":"var _jsxFileName = \"/Users/dheeraj/Desktop/CivicLens/frontend/src/components/ComplaintMap.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// frontend/src/components/ComplaintMap.js\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\nimport axios from 'axios';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MapClickHandler({\n  onMapClick,\n  clickedPosition\n}) {\n  _s();\n  useMapEvents({\n    click(e) {\n      onMapClick(e.latlng.lat, e.latlng.lng);\n    }\n  });\n  return clickedPosition ? /*#__PURE__*/_jsxDEV(Marker, {\n    position: clickedPosition,\n    children: /*#__PURE__*/_jsxDEV(Popup, {\n      children: \"Selected Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this) : null;\n}\n_s(MapClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c = MapClickHandler;\nconst ComplaintMap = ({\n  onMapClick\n}) => {\n  _s2();\n  const [complaints, setComplaints] = useState([]);\n  const [clickedPosition, setClickedPosition] = useState(null);\n  useEffect(() => {\n    const fetchComplaints = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/api/complaints');\n        setComplaints(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchComplaints();\n  }, []);\n  const handleMapClick = (lat, lng) => {\n    setClickedPosition([lat, lng]);\n    onMapClick(lat, lng);\n  };\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: [12.9412, 77.5661],\n    zoom: 17,\n    style: {\n      height: '500px',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapClickHandler, {\n      onMapClick: handleMapClick,\n      clickedPosition: clickedPosition\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), complaints.map(complaint => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [complaint.location.coordinates[1], complaint.location.coordinates[0]],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: complaint.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 40\n        }, this), complaint.description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 36\n        }, this), \"Status: \", complaint.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, complaint._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s2(ComplaintMap, \"kr0tJHmaGGZAQfSV6uNLHD5ZfKg=\");\n_c2 = ComplaintMap;\nexport default ComplaintMap;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapClickHandler\");\n$RefreshReg$(_c2, \"ComplaintMap\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","useMapEvents","axios","jsxDEV","_jsxDEV","MapClickHandler","onMapClick","clickedPosition","_s","click","e","latlng","lat","lng","position","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","ComplaintMap","_s2","complaints","setComplaints","setClickedPosition","fetchComplaints","response","get","data","error","console","handleMapClick","center","zoom","style","height","width","url","attribution","map","complaint","location","coordinates","category","description","status","_id","_c2","$RefreshReg$"],"sources":["/Users/dheeraj/Desktop/CivicLens/frontend/src/components/ComplaintMap.js"],"sourcesContent":["// frontend/src/components/ComplaintMap.js\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\nimport axios from 'axios';\nimport 'leaflet/dist/leaflet.css';\n\nfunction MapClickHandler({ onMapClick, clickedPosition }) {\n  useMapEvents({\n    click(e) {\n      onMapClick(e.latlng.lat, e.latlng.lng);\n    },\n  });\n  return clickedPosition ? (\n    <Marker position={clickedPosition}>\n      <Popup>Selected Location</Popup>\n    </Marker>\n  ) : null;\n}\n\nconst ComplaintMap = ({ onMapClick }) => {\n  const [complaints, setComplaints] = useState([]);\n  const [clickedPosition, setClickedPosition] = useState(null);\n\n  useEffect(() => {\n    const fetchComplaints = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/api/complaints');\n        setComplaints(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchComplaints();\n  }, []);\n\n  const handleMapClick = (lat, lng) => {\n    setClickedPosition([lat, lng]);\n    onMapClick(lat, lng);\n  };\n\n  return (\n    <MapContainer center={[12.9412, 77.5661]} zoom={17} style={{ height: '500px', width: '100%' }}>\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='Â© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      <MapClickHandler onMapClick={handleMapClick} clickedPosition={clickedPosition} />\n      {complaints.map((complaint) => (\n        <Marker\n          key={complaint._id}\n          position={[complaint.location.coordinates[1], complaint.location.coordinates[0]]}\n        >\n          <Popup>\n            <b>{complaint.category}</b><br />\n            {complaint.description}<br />\n            Status: {complaint.status}\n          </Popup>\n        </Marker>\n      ))}\n    </MapContainer>\n  );\n};\n\nexport default ComplaintMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}